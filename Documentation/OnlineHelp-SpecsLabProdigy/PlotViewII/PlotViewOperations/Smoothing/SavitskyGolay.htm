<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Plot View|Data Operations|Smoothing">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Resources/TableStyles/Normal.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link href="../../../Resources/TableStyles/Normal.css" rel="stylesheet" data-mc-stylesheet-type="table" /><title>Savitsky Golay Smooth</title>
        <link href="../../../Resources/Stylesheets/Styles.css" rel="stylesheet" type="text/css" />
        <script src="../../../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <h3><a name="kanchor131"></a>Savitzky Golay Smooth</h3>
        <p>The idea behind data smoothing is the signal is slowly varying and also corrupted by noise. Sometimes it can be useful to replace each data point by a local average of surrounding data points. Since nearby points measure very nearly the same underlying signal, averaging can reduce the level of noise without significant change the signal (and the containing information) obtained.</p>
        <p>&#160;</p>
        <p><span class="MyVariablesDocumentTitle">SpecsLab Prodigy</span> offers a particular type of low-pass filter, well-adapted for data smoothing, called <a href="javascript:void(0);" class="MCTextPopup popup popupHead">Savitzky-Golay<span class="MCTextPopupBody MCTextPopupBody_Closed needs-pie popupBody"><span class="MCTextPopupArrow"></span>A. Savitzky and M.J.E. Golay. "Smoothing and differentiation of data by simplified least square procedures", Anal. Chem., 36(8), 1627−1639, 1964</span></a>.</p>
        <p>&#160;</p>
        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Restrict range</a></span>
            <div class="MCDropDownBody dropDownBody">
                <p>The operation runs with the selected region of interest. This region is shown in the <span class="GUIItem">Restrict Range</span> section. If no region is selected, the operation runs on the whole spectrum.</p>
                <p>&#160;</p>
                <p>You can change the region of interest using one of the following methods:</p>
                <p class="Bullet" data-mc-autonum="&lt;span style=&quot;font-family: 'arial';&quot; class=&quot;mcFormatFamily&quot;&gt;&lt;span style=&quot;color: #005293;&quot; class=&quot;mcFormatColor&quot;&gt;■&lt;/span&gt;&lt;/span&gt; &#160;&#160;&#160;"><span class="autonumber"><span><span style="font-family: 'arial';" class="mcFormatFamily"><span style="color: #005293;" class="mcFormatColor">■</span></span> &#160;&#160;&#160;</span></span>Check the <span class="GUIItem">Restrict Range</span> option box and enter start and end values in the fields provided. The operation will run again automatically in the specified range.</p>
                <p>&#160;</p>
                <p>
                    <img src="../../../Resources/Images/RestrictRange.png">
                    </img>
                </p>
                <p>&#160;</p>
                <p class="Bullet" data-mc-autonum="&lt;span style=&quot;font-family: 'arial';&quot; class=&quot;mcFormatFamily&quot;&gt;&lt;span style=&quot;color: #005293;&quot; class=&quot;mcFormatColor&quot;&gt;■&lt;/span&gt;&lt;/span&gt; &#160;&#160;&#160;"><span class="autonumber"><span><span style="font-family: 'arial';" class="mcFormatFamily"><span style="color: #005293;" class="mcFormatColor">■</span></span> &#160;&#160;&#160;</span></span>Select the operation in the data browser, then drag the bars at the edge of the operation region. The screenshot below shows a range selected for a background subtraction operation.</p>
                <p>&#160;</p>
                <p class="Note" data-mc-autonum="&lt;b&gt;NOTE: &lt;/b&gt;"><span class="autonumber"><span><b>NOTE: </b></span></span>
                    <br />The shaded area has the same color as the operation. You can change this by clicking the line of the operation and <a href="../../../PlotViewI/DataBrowser/DataAppearance.htm">selecting a new color</a>.</p>
                <p>&#160;</p>
                <p><a class="MCPopupThumbnailLink MCPopupThumbnailHover" href="../../../Resources/Images/RestrictBackgroundOperation.png"><img class="MCPopupThumbnail img imgThumb" data-mc-width="471" data-mc-height="320" src="../../../Resources/Images/RestrictBackgroundOperation_thumb_0_48.png" tabindex="" /></a>
                </p>
                <p>&#160;</p>
                <p>Unchecking this box will set the range to the whole spectrum.</p>
            </div>
        </div>
        <p>&#160;</p>
        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Input parameters</a></span>
            <div class="MCDropDownBody dropDownBody">
                <p>The input parameters allow you to alter the operation. The table below lists all the input parameters for the Peak Identification operation. After setting the parameters, click <span class="GUIItem">Apply</span> to run the operation with the new settings.</p>
                <p>&#160;</p>
                <p>See also the background section below for more information about the input parameters.</p>
                <p>&#160;</p>
                <table style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/Normal.css');" class="TableStyle-Normal" cellspacing="0">
                    <col class="TableStyle-Normal-Column-Column1" style="width: 190px;">
                    </col>
                    <col class="TableStyle-Normal-Column-Column1">
                    </col>
                    <thead>
                        <tr class="TableStyle-Normal-Head-Header1">
                            <th class="TableStyle-Normal-HeadE-Column1-Header1">Input parameter </th>
                            <th class="TableStyle-Normal-HeadD-Column1-Header1">Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="TableStyle-Normal-Body-Body1">
                            <td class="TableStyle-Normal-BodyE-Column1-Body1">Left Data Points</td>
                            <td class="TableStyle-Normal-BodyD-Column1-Body1">Number of points to the left of the current data point.</td>
                        </tr>
                        <tr class="TableStyle-Normal-Body-Body2">
                            <td class="TableStyle-Normal-BodyE-Column1-Body2">Right Data Points</td>
                            <td class="TableStyle-Normal-BodyD-Column1-Body2">Number of points to the right of the current data point. This is usually set to the same value as the Left Data Points value.</td>
                        </tr>
                        <tr class="TableStyle-Normal-Body-Body1">
                            <td class="TableStyle-Normal-BodyE-Column1-Body1"><a name="kanchor132"></a>Polynom Order</td>
                            <td class="TableStyle-Normal-BodyD-Column1-Body1">When using derivatives, you should set this value to 4 or higher.</td>
                        </tr>
                        <tr class="TableStyle-Normal-Body-Body2">
                            <td class="TableStyle-Normal-BodyB-Column1-Body2"><a name="kanchor133"></a>Derivation Order</td>
                            <td class="TableStyle-Normal-BodyA-Column1-Body2">Allows you to calculate numerical derivatives. Setting this value to 1 gives a first order derivative.</td>
                        </tr>
                    </tbody>
                </table>
                <p>&#160;</p>
                <p>There are two buttons below the input parameter table:</p>
                <p class="Bullet" data-mc-autonum="&lt;span style=&quot;font-family: 'arial';&quot; class=&quot;mcFormatFamily&quot;&gt;&lt;span style=&quot;color: #005293;&quot; class=&quot;mcFormatColor&quot;&gt;■&lt;/span&gt;&lt;/span&gt; &#160;&#160;&#160;"><span class="autonumber"><span><span style="font-family: 'arial';" class="mcFormatFamily"><span style="color: #005293;" class="mcFormatColor">■</span></span> &#160;&#160;&#160;</span></span><span class="GUIItem">Apply</span>—runs the operation with the selected input parameters.</p>
                <p class="Bullet" data-mc-autonum="&lt;span style=&quot;font-family: 'arial';&quot; class=&quot;mcFormatFamily&quot;&gt;&lt;span style=&quot;color: #005293;&quot; class=&quot;mcFormatColor&quot;&gt;■&lt;/span&gt;&lt;/span&gt; &#160;&#160;&#160;"><span class="autonumber"><span><span style="font-family: 'arial';" class="mcFormatFamily"><span style="color: #005293;" class="mcFormatColor">■</span></span> &#160;&#160;&#160;</span></span><span class="GUIItem">Reset Params</span>—sets the input parameters to their default values.</p>
            </div>
        </div>
        <p>&#160;</p>
        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Background theory</a></span>
            <div class="MCDropDownBody dropDownBody">
                <p>Savitzky-Golay filters were initially (and are still often) used to render visible the relative widths and heights of spectral lines in noisy spectrometric data. A digital filter is applied to a series of equally spaced data values f<sub>i</sub> = f ( t<sub>i</sub> ) , where t<sub>i</sub> = t<sub>0</sub> + i Δ for some constant sample spacing Δ and i = … −2, −1, 0, 1, 2, …. The simplest type of digital filter replaces each data value f<sub>i</sub> by a linear combination g<sub>i</sub> of itself and some number of nearby neighbors,</p>
                <p>&#160;</p>
                <p class="Equation"><a name="Equation_SavitzkyGolay"></a>
                    <img src="../../../GeneratedImages/Equations/Equation12.png" style="width: 107px;height: 41px;" alt="" class="MCEquation mcReset" />
                </p>
                <p>&#160;</p>
                <p>Here nL is the number of points used to the left of a data point i , i.e. before it, while nR is the number used to the right, i.e. after. As a starting point for understanding Savitzky-Golay filters, consider the simplest possible averaging procedure: For some fixed nL = nR, compute each g i as the average of the data points from f<sub>i</sub> − nL to f<sub>i</sub> + nR . This is sometimes called moving window averaging and corresponds to the equation above with constant:</p>
                <p>&#160;</p>
                <p class="Equation">
                    <img src="../../../GeneratedImages/Equations/Equation13.png" style="width: 78px;height: 25px;" alt="" class="MCEquation mcReset" />
                </p>
                <p>&#160;</p>
                <p>If the underlying function is constant, or is changing linearly with time (increasing or decreasing), then no bias is introduced into the result.</p>
                <p>&#160;</p>
                <p>The points at the right  of the data point in the averaging interval are usually balanced by those at the left. A bias is introduced, however, if the underlying function has a non-zero second derivative. At a local maximum, for example, moving window averaging always reduces the function value. In the spectrometric application, a narrow peak has its height reduced and its width increased. Since these parameter are themselves of physical interest, the bias introduced is distinctly undesirable.</p>
                <p>&#160;</p>
                <p>The idea of Savitzky-Golay filtering is to find filter coefficients cn that preserve higher moments. <span class="MyVariablesDocumentTitle">SpecsLab Prodigy</span> fits a polynomial of degree M in i, to the values f<sub>i</sub> − nL … f<sub>i</sub> + nR. For a more detailed description please refer to the paper by Savitzky and Golay.</p>
            </div>
        </div>
        <p>&#160;</p>
        <p>
            <img src="../../../Resources/Images/DOSavitzkyGolay_587x329.png" style="width: 587;height: 329;" />
        </p>
    </body>
</html>