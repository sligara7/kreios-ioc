{
  "template_metadata": {
    "name": "Workflow Metrics Template",
    "version": "1.0.0",
    "description": "Template for tracking workflow execution metrics",
    "purpose": "Collect objective data for workflow improvement and bottleneck identification",
    "file_location": "context/workflow_metrics.json",
    "update_frequency": "After each major step completion and at workflow end"
  },
  "workflow_info": {
    "workflow_id": "WORKFLOW_ID (e.g., 01-systems_engineering)",
    "workflow_name": "WORKFLOW_NAME",
    "system_name": "SYSTEM_NAME",
    "execution_id": "UNIQUE_EXECUTION_ID (e.g., system_workflow_YYYYMMDD_HHMMSS)",
    "start_time": "YYYY-MM-DDTHH:MM:SSZ",
    "end_time": "YYYY-MM-DDTHH:MM:SSZ",
    "total_duration_seconds": 0,
    "status": "IN_PROGRESS|COMPLETED|FAILED|PAUSED"
  },
  "time_based_metrics": {
    "description": "Track time spent on various activities",
    "step_durations": [
      {
        "step_id": "SE-01",
        "step_name": "System Analysis & Service Decomposition",
        "start_time": "YYYY-MM-DDTHH:MM:SSZ",
        "end_time": "YYYY-MM-DDTHH:MM:SSZ",
        "duration_seconds": 0,
        "expected_duration_seconds": 0,
        "variance_seconds": 0,
        "notes": "Any significant delays or speedups"
      }
    ],
    "tool_execution_times": [
      {
        "tool_name": "validate_architecture.py",
        "invocations": 0,
        "total_time_seconds": 0,
        "average_time_seconds": 0,
        "min_time_seconds": 0,
        "max_time_seconds": 0,
        "notes": "Performance observations"
      }
    ],
    "validation_times": [
      {
        "validation_type": "architecture_validation",
        "total_time_seconds": 0,
        "count": 0,
        "average_time_seconds": 0
      }
    ],
    "wait_times": [
      {
        "reason": "Waiting for user input",
        "duration_seconds": 0,
        "timestamp": "YYYY-MM-DDTHH:MM:SSZ"
      }
    ]
  },
  "quality_based_metrics": {
    "description": "Track quality outcomes and error rates",
    "validation_results": {
      "total_validations": 0,
      "passed_first_try": 0,
      "failed_requiring_rework": 0,
      "success_rate_percentage": 0.0,
      "details": [
        {
          "validation": "validate_architecture.py on auth_service",
          "result": "PASS|FAIL",
          "attempt_number": 1,
          "issues_found": 0,
          "timestamp": "YYYY-MM-DDTHH:MM:SSZ"
        }
      ]
    },
    "quality_gate_results": {
      "total_gates": 0,
      "gates_passed_first_try": 0,
      "gates_blocked": 0,
      "gate_details": [
        {
          "gate_id": "G-SE-03",
          "gate_name": "Architecture Validation Gate",
          "passed": true,
          "attempts": 1,
          "issues_found": 0,
          "issues_resolved": 0,
          "timestamp": "YYYY-MM-DDTHH:MM:SSZ",
          "notes": "What issues were found and how resolved"
        }
      ]
    },
    "rework_cycles": {
      "total_rework_count": 0,
      "rework_details": [
        {
          "step_id": "SE-02",
          "artifact": "service_architecture.json for auth_service",
          "reason": "Missing required section: data_models",
          "rework_count": 1,
          "time_lost_seconds": 600,
          "timestamp": "YYYY-MM-DDTHH:MM:SSZ"
        }
      ]
    },
    "tool_success_rates": {
      "tools": [
        {
          "tool_name": "system_of_systems_graph.py",
          "total_invocations": 0,
          "successes": 0,
          "failures": 0,
          "success_rate_percentage": 0.0,
          "failure_reasons": []
        }
      ]
    },
    "artifact_quality": {
      "artifacts_created": 0,
      "artifacts_perfect_first_time": 0,
      "artifacts_requiring_correction": 0,
      "quality_score_percentage": 0.0
    }
  },
  "process_based_metrics": {
    "description": "Track process efficiency and interventions",
    "manual_interventions": {
      "total_count": 0,
      "interventions": [
        {
          "reason": "Ambiguous requirement needed clarification",
          "step_id": "SE-02",
          "timestamp": "YYYY-MM-DDTHH:MM:SSZ",
          "resolution": "User clarified that auth should use OAuth 2.0",
          "time_blocked_seconds": 300
        }
      ]
    },
    "context_refresh_stats": {
      "total_refreshes": 0,
      "threshold_triggered": 0,
      "degradation_triggered": 0,
      "manual_triggered": 0,
      "average_operations_between_refresh": 0,
      "refresh_events": [
        {
          "trigger": "threshold|degradation|manual",
          "operations_count_at_trigger": 5,
          "degradation_signal": "Asking about system name when in working_memory.json",
          "timestamp": "YYYY-MM-DDTHH:MM:SSZ"
        }
      ]
    },
    "degradation_signals": {
      "total_signals_detected": 0,
      "signals_by_type": {
        "architecture_signals": 0,
        "development_signals": 0,
        "general_signals": 0
      },
      "signal_details": [
        {
          "signal_type": "Forgetting current step",
          "timestamp": "YYYY-MM-DDTHH:MM:SSZ",
          "context": "After 7 operations without refresh",
          "action_taken": "Immediate context refresh"
        }
      ]
    },
    "rollbacks_and_corrections": {
      "total_rollbacks": 0,
      "rollback_details": [
        {
          "reason": "Generated wrong artifact type",
          "artifact": "Incorrectly created ICD before architecture complete",
          "step_id": "SE-02",
          "time_lost_seconds": 900,
          "timestamp": "YYYY-MM-DDTHH:MM:SSZ"
        }
      ]
    },
    "automation_vs_manual": {
      "automated_operations": 0,
      "manual_decision_operations": 0,
      "automation_percentage": 0.0
    },
    "parallel_execution": {
      "opportunities_identified": 0,
      "opportunities_utilized": 0,
      "time_saved_seconds": 0,
      "sequential_time_estimate": 0,
      "actual_time": 0,
      "efficiency_percentage": 0.0
    }
  },
  "tool_specific_metrics": {
    "description": "Detailed metrics for each tool used",
    "tools": [
      {
        "tool_name": "validate_architecture.py",
        "version": "1.0.0",
        "invocations": 0,
        "successes": 0,
        "failures": 0,
        "total_execution_time_seconds": 0,
        "average_execution_time_seconds": 0,
        "errors_encountered": [
          {
            "error": "Missing required section: deployment_architecture",
            "frequency": 2,
            "first_occurrence": "YYYY-MM-DDTHH:MM:SSZ"
          }
        ],
        "performance_notes": "Any observations about tool performance"
      }
    ]
  },
  "workflow_specific_metrics": {
    "description": "Metrics specific to this workflow type",
    "note": "Different workflows track different domain-specific metrics",
    "systems_engineering_metrics": {
      "services_designed": 0,
      "interfaces_defined": 0,
      "architecture_iterations": 0,
      "validation_cycles_per_service": 0
    },
    "development_metrics": {
      "lines_of_code_written": 0,
      "tests_written": 0,
      "test_coverage_percentage": 0.0,
      "build_success_rate": 0.0
    },
    "testing_metrics": {
      "tests_executed": 0,
      "tests_passed": 0,
      "tests_failed": 0,
      "test_pass_rate": 0.0
    }
  },
  "bottleneck_analysis": {
    "description": "Automatically identify bottlenecks",
    "slowest_steps": [
      {
        "step_id": "SE-02",
        "duration_seconds": 7200,
        "percentage_of_total": 45.0,
        "reason": "Creating service_architecture.json files manually"
      }
    ],
    "most_error_prone_steps": [
      {
        "step_id": "SE-02",
        "error_count": 5,
        "primary_error": "Missing required sections"
      }
    ],
    "highest_rework_steps": [
      {
        "step_id": "SE-03",
        "rework_cycles": 3,
        "reason": "Interface definitions incomplete"
      }
    ]
  },
  "improvement_opportunities": {
    "description": "Automatically suggested improvements based on metrics",
    "suggestions": [
      {
        "opportunity": "Automate service_architecture.json generation",
        "based_on_metric": "SE-02 took 45% of total workflow time",
        "potential_impact": "Could reduce workflow time by 30%",
        "priority": "HIGH"
      }
    ]
  },
  "metadata": {
    "metrics_version": "1.0.0",
    "last_updated": "YYYY-MM-DDTHH:MM:SSZ",
    "collection_method": "Automated + Manual tracking by LLM agent",
    "notes": [
      "Update this file after each major step completion",
      "Be honest and accurate - metrics are only useful if truthful",
      "Add observations and context to numeric data",
      "Use metrics to drive workflow improvements"
    ]
  }
}
