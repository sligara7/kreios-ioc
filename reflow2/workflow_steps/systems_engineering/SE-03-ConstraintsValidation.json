{
  "workflow_metadata": {
    "version": "0.1.0",
    "name": "Arch-03 Constraints and Template Validation",
    "based_on": "architecture_workflow.json steps 3â€“4",
    "description": "Parse global constraints, validate all service_architecture.json against schema, and fix violations."
  },
  "entry_conditions": {
    "from": "Arch-02",
    "artifacts": ["index.json", "service_architecture.json (per service)", "interfaces/*.json"]
  },
  "steps": [
    {
      "id": "S3.1",
      "name": "Parse Global Constraints",
      "tool": "manual",
      "inputs": ["ARCHITECTURE.json or equivalent"],
      "update": ["working_memory.json"]
    },
    {
      "id": "S4.1",
      "name": "Template Validation",
      "tool": "/home/ajs7/project/saa/tools/validate_architecture.py",
      "command": "python3 /home/ajs7/project/saa/tools/validate_architecture.py /home/ajs7/project/saa/systems/<system_name>",
      "success": "All files pass validation"
    },
    {
      "id": "S4.2",
      "name": "Fix Template Violations",
      "tool": "manual",
      "guidance": "Correct missing fields, wrong types, incorrect classifications"
    }
  ],
  "validation": {
    "check": "All services conform to template",
    "tool": "/home/ajs7/project/saa/tools/validate_architecture.py"
  },
  "handoff": {
    "produces": ["Updated service_architecture.json", "working_memory.json"],
    "next_workflow": "../architecture/Arch-04-DeploymentAndDeepDive.json"
  }
}
