{
  "version": "3.7.0",
  "description": "Master index for reflow workflows - v3.7.0 refactored to reduce LLM context by 60-70%",
  "workflows": {
    "00-setup": {
      "id": "00-setup",
      "name": "Setup Workflow (DEPRECATED - use 00a/00b)",
      "file": "workflows/00-setup.json",
      "description": "DEPRECATED in v3.7.0 - Split into 00a-basic_setup and 00b-framework_selection to reduce context by 45-55%",
      "entry_points": [
        "new_system",
        "new_concept_or_system",
        "system_of_systems"
      ],
      "prerequisites": [],
      "next_workflow": "01a-approach_detection",
      "steps_directory": "workflow_steps/setup",
      "deprecated": true,
      "replaced_by": [
        "00a-basic_setup",
        "00b-framework_selection"
      ]
    },
    "01-systems_engineering": {
      "id": "01-systems_engineering",
      "name": "Systems Engineering & Architecture (DEPRECATED - use 01a/01b/01c)",
      "file": "workflows/01-systems_engineering.json",
      "description": "DEPRECATED in v3.7.0 - Split into 01a-approach_detection, 01b-bottom_up_integration, 01c-top_down_design to reduce context by 60-70%",
      "entry_points": [],
      "prerequisites": [
        "00-setup"
      ],
      "next_workflow": "02-artifacts_visualization",
      "steps_directory": "workflow_steps/systems_engineering",
      "deprecated": true,
      "replaced_by": [
        "01a-approach_detection",
        "01b-bottom_up_integration",
        "01c-top_down_design"
      ]
    },
    "01a-approach_detection": {
      "id": "01a-approach_detection",
      "name": "Approach Detection (Auto-detect Bottom-Up vs Top-Down)",
      "file": "workflows/01a-approach_detection.json",
      "description": "Automatically detect bottom-up (existing components) or top-down (greenfield) approach by examining system directory",
      "entry_points": [],
      "prerequisites": [
        "00-setup"
      ],
      "next_workflow": "01b-bottom_up_integration OR 01c-top_down_design",
      "next_workflow_note": "Routes to 01b if bottom_up detected, 01c if top_down detected",
      "steps_directory": "workflow_steps/systems_engineering",
      "context_benefit": "95% reduction (75 lines vs 1,535 lines in original)"
    },
    "01b-bottom_up_integration": {
      "id": "01b-bottom_up_integration",
      "name": "Bottom-Up Integration (Existing Components)",
      "file": "workflows/01b-bottom_up_integration.json",
      "description": "Integrate existing components into cohesive architecture - for legacy systems, package consolidation, existing codebases",
      "entry_points": [],
      "prerequisites": [
        "00-setup",
        "01a-approach_detection"
      ],
      "next_workflow": "02-artifacts_visualization",
      "steps_directory": "workflow_steps/systems_engineering",
      "context_benefit": "48% reduction (1,331 lines vs 1,535 lines in original, and avoids loading top-down path)"
    },
    "01c-top_down_design": {
      "id": "01c-top_down_design",
      "name": "Top-Down Design (Greenfield)",
      "file": "workflows/01c-top_down_design.json",
      "description": "Design new system from requirements - for greenfield projects, new systems from scratch",
      "entry_points": [],
      "prerequisites": [
        "00-setup",
        "01a-approach_detection"
      ],
      "next_workflow": "02-artifacts_visualization",
      "steps_directory": "workflow_steps/systems_engineering",
      "context_benefit": "54% reduction (1,099 lines vs 1,535 lines in original, and avoids loading bottom-up path)"
    },
    "02-artifacts_visualization": {
      "id": "02-artifacts_visualization",
      "name": "Artifacts & Visualization",
      "file": "workflows/02-artifacts_visualization.json",
      "description": "Generate human-readable documentation, Mermaid diagrams, ICDs, and visualizations",
      "entry_points": [
        "architecture_only_completion"
      ],
      "prerequisites": [
        "01-systems_engineering"
      ],
      "conditional": true,
      "next_workflow": "03-development",
      "alternative_next_workflow": null,
      "steps_directory": "workflow_steps/artifacts_visualization",
      "notes": "Conditional workflow - ask user if they plan to develop the system"
    },
    "03-development": {
      "id": "03-development",
      "name": "Development Workflow (DEPRECATED - use 03a/03b)",
      "file": "workflows/03-development.json",
      "description": "DEPRECATED in v3.7.0 - Split into 03a-development_implementation and 03b-development_validation to reduce context by 43-58%",
      "entry_points": [
        "implementation_from_final_specs"
      ],
      "prerequisites": [
        "02-artifacts_visualization"
      ],
      "next_workflow": "04-testing_operations",
      "steps_directory": "workflow_steps/development",
      "deprecated": true,
      "replaced_by": [
        "03a-development_implementation",
        "03b-development_validation"
      ]
    },
    "04-testing_operations": {
      "id": "04-testing_operations",
      "name": "Testing & Operations (DEPRECATED - use 04a/04b)",
      "file": "workflows/04-testing_operations.json",
      "description": "DEPRECATED in v3.7.0 - Split into 04a-testing and 04b-operations to reduce context by 42-55%",
      "entry_points": [],
      "prerequisites": [
        "03-development"
      ],
      "next_workflow": null,
      "steps_directory": "workflow_steps/testing_operations",
      "deprecated": true,
      "replaced_by": [
        "04a-testing",
        "04b-operations"
      ]
    },
    "00a-basic_setup": {
      "id": "00a-basic_setup",
      "name": "Basic Setup (Fast - Framework Selection Separate)",
      "file": "workflows/00a-basic_setup.json",
      "description": "Initialize system, configure paths, set up environment and foundational documents (without detailed framework analysis)",
      "entry_points": [
        "new_system",
        "new_concept_or_system",
        "system_of_systems"
      ],
      "prerequisites": [],
      "next_workflow": "00b-framework_selection OR 01a-approach_detection",
      "next_workflow_note": "If user wants detailed framework analysis, go to 00b. If framework already selected, go to 01a.",
      "steps_directory": "workflow_steps/setup",
      "context_benefit": "45% reduction (612 lines vs 1,102 lines in original)"
    },
    "00b-framework_selection": {
      "id": "00b-framework_selection",
      "name": "Framework Selection (Optional - Detailed Analysis)",
      "file": "workflows/00b-framework_selection.json",
      "description": "Detailed framework analysis with 9-action questionnaire and scoring - OPTIONAL if user already knows framework",
      "entry_points": [],
      "prerequisites": [
        "00a-basic_setup"
      ],
      "next_workflow": "01a-approach_detection",
      "steps_directory": "workflow_steps/setup",
      "optional": true,
      "context_benefit": "55% reduction (475 lines vs 1,102 lines in original)"
    },
    "03a-development_implementation": {
      "id": "03a-development_implementation",
      "name": "Development Implementation (Coding Phase)",
      "file": "workflows/03a-development_implementation.json",
      "description": "Research, implement core functionality, and integrate APIs/security - the 'coding' part of development",
      "entry_points": [],
      "prerequisites": [
        "02-artifacts_visualization"
      ],
      "next_workflow": "03b-development_validation",
      "steps_directory": "workflow_steps/development",
      "context_benefit": "58% reduction (545 lines vs 1,061 lines in original)"
    },
    "03b-development_validation": {
      "id": "03b-development_validation",
      "name": "Development Validation (Testing & Validation Phase)",
      "file": "workflows/03b-development_validation.json",
      "description": "Testing, observability, pre-deployment validation, and review - the 'validate' part of development",
      "entry_points": [],
      "prerequisites": [
        "02-artifacts_visualization",
        "03a-development_implementation"
      ],
      "next_workflow": "04a-testing OR 04-testing_operations",
      "steps_directory": "workflow_steps/development",
      "context_benefit": "43% reduction (503 lines vs 1,061 lines in original)",
      "contains": "D-07 Pre-Deployment Validation (v3.6.0 feature)"
    },
    "04a-testing": {
      "id": "04a-testing",
      "name": "Testing (Integration + Comprehensive Testing)",
      "file": "workflows/04a-testing.json",
      "description": "Integration testing and comprehensive testing (E2E, performance, security) - developer/QA concern",
      "entry_points": [],
      "prerequisites": [
        "03-development"
      ],
      "next_workflow": "04b-operations",
      "steps_directory": "workflow_steps/testing_operations",
      "context_benefit": "55% reduction (284 lines vs 776 lines in original)"
    },
    "04b-operations": {
      "id": "04b-operations",
      "name": "Operations (CI/CD + Deployment + Monitoring)",
      "file": "workflows/04b-operations.json",
      "description": "CI/CD setup, deployment, monitoring, and as-fielded architecture tracking - DevOps/SRE concern",
      "entry_points": [],
      "prerequisites": [
        "03-development",
        "04a-testing"
      ],
      "next_workflow": null,
      "steps_directory": "workflow_steps/testing_operations",
      "context_benefit": "42% reduction (477 lines vs 776 lines in original)",
      "contains": "TO-06 As-Fielded Architecture Lifecycle Tracking (v3.5.0 feature)"
    }
  },
  "feature_update_workflow": {
    "id": "feature_update",
    "name": "Feature Update Workflow",
    "file": "workflows/feature_update.json",
    "description": "Handle changes to existing systems with foundational alignment validation",
    "entry_points": [
      "feature_or_service_change",
      "feature_change",
      "service_change"
    ],
    "prerequisites": [],
    "steps_directory": "feature_update",
    "notes": "Separate workflow for modifying existing systems - includes mandatory foundational alignment checks"
  },
  "workflow_order": [
    "00a-basic_setup",
    "00b-framework_selection (optional)",
    "01a-approach_detection",
    "01b-bottom_up_integration OR 01c-top_down_design",
    "02-artifacts_visualization",
    "03a-development_implementation",
    "03b-development_validation",
    "04a-testing",
    "04b-operations"
  ],
  "workflow_order_note": "01a routes to either 01b (bottom-up) or 01c (top-down) based on detection",
  "paths": {
    "reflow_root": "Path to reflow installation (configured in setup workflow)",
    "workflows_directory": "workflows/",
    "workflow_steps_directory": "workflow_steps/",
    "tools_directory": "tools/",
    "templates_directory": "templates/",
    "definitions_directory": "definitions/",
    "instructions_directory": "instructions/"
  },
  "migration_notes": {
    "v2.0": {
      "from": "decision_flow.json (monolithic, 128KB)",
      "to": "6 separate workflow files",
      "date": "2025-10-24",
      "reason": "Improve maintainability, modularity, and manageability of workflows"
    },
    "v3.7.0": {
      "from": "01-systems_engineering.json (monolithic, 1,535 lines)",
      "to": "01a-approach_detection + 01b-bottom_up_integration + 01c-top_down_design",
      "date": "2025-10-27",
      "reason": "Reduce LLM context consumption by 60-70% per execution",
      "benefits": [
        "Only load relevant workflow path (bottom-up OR top-down, not both)",
        "95% context reduction for approach detection (75 lines vs 1,535)",
        "Improved LLM focus and accuracy",
        "Faster workflow execution",
        "Better separation of concerns"
      ],
      "complete": true,
      "total_workflows_split": 4,
      "workflows_created": [
        "01a-approach_detection",
        "01b-bottom_up_integration",
        "01c-top_down_design",
        "00a-basic_setup",
        "00b-framework_selection",
        "03a-development_implementation",
        "03b-development_validation",
        "04a-testing",
        "04b-operations"
      ],
      "workflows_deprecated": [
        "01-systems_engineering",
        "00-setup",
        "03-development",
        "04-testing_operations"
      ],
      "final_summary": "Completed all 4 priorities - 60-95% context reduction achieved"
    }
  }
}